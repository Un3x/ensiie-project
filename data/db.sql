-- jdbc:postgresql://localhost:5432/ensiie

DROP TABLE IF EXISTS keyuser;
DROP TABLE IF EXISTS keybar;
DROP TABLE IF EXISTS blacklist;
DROP TABLE IF EXISTS bar;
DROP TABLE IF EXISTS "user";
DROP TABLE IF EXISTS keyword;



CREATE TABLE "user" (
  id     SERIAL PRIMARY KEY,
  pseudo VARCHAR NOT NULL,
  email  VARCHAR NOT NULL,
  hash   VARCHAR NOT NULL,
  role   VARCHAR NOT NULL
);


CREATE table bar (
  id   SERIAL PRIMARY KEY,
  name VARCHAR,
  address VARCHAR
);


CREATE TABLE keyword (
  id     SERIAL PRIMARY KEY,
  category VARCHAR,
  name VARCHAR
);


CREATE TABLE keyuser (
  id     SERIAL PRIMARY KEY,
  idKeyWord  INT REFERENCES keyword (id),
  idUser INT REFERENCES "user" (id)
);

CREATE TABLE keybar (
  id     SERIAL PRIMARY KEY,
  idKeyWord  INT REFERENCES keyword (id),
  nbOccurence INT,
  idBar INT REFERENCES bar (id)
);

CREATE TABLE blacklist (
  id     SERIAL PRIMARY KEY,
  idBar  INT REFERENCES bar (id),
  idUser INT REFERENCES "user" (id)
);

INSERT INTO "user" (pseudo, email, hash, role) VALUES
('John', 'Doe@gmail.com', 'unHash','USER'),
('Yvette', 'Angel@gmail.com', 'unHash','USER'),
('Amelia', 'Waters@gmail.com', 'unHash','USER'),
('Manuel', 'Holloway@gmail.com', 'unHash','USER'),
('Alonzo', 'Erickson@gmail.com', 'unHash','USER'),
('Otis', 'Roberson@gmail.com', 'unHash','USER'),
('Jaime', 'King@gmail.com', 'unHash','USER'),
('Vicky', 'Pearson@gmail.com', 'unHash','USER)'),
('Silvia', 'Mcguire@gmail.com', 'unHash','USER'),
('Brendan', 'Pena@gmail.com', 'unHash','USER'),
('Jackie', 'Cohen@gmail.com', 'unHash','USER'),
('Delores', 'Williamson@gmail.com', 'unHash','USER');

INSERT INTO bar (name, address) VALUES ('Un bar', '6 Rue de l ''adresse de Fou'),
('La Frange', '7 Rue de l ''adresse de Fou'),
('Yellow Mad Monkey', '8 Rue de l ''adresse de Fou'),
('Velvet Bar Paris', '9 Rue de l ''adresse de Fou'),
('The Highlander Scottish Pub Paris', '10 Rue de l ''adresse de Fou'),
('Harry''s New York Bar', '11 Rue de l ''adresse de Fou'),
('Inside bar paris', '12 Rue de l ''adresse de Fou'),
('Buddha-Bar Hotel Paris', '13 Rue de l ''adresse de Fou'),
('The Characters Bar Paris', '14 Rue de l ''adresse de Fou'),
('L''Ambre Bar', '15 Rue de l ''adresse de Fou'),
('Panic Room', '16 Rue de l ''adresse de Fou');

INSERT INTO keyword (category,name) VALUES 
('hobby','cinéma'),
('hobby','théâtre'),
('hobby','concerts'),
('hobby','voiture'),
('hobby','cuisine'),
('hobby','patisserie'),
('hobby','spéléologie'),
('hobby','forum de discussion'),
('hobby','actualité'),
('hobby','Dessine'),
('hobby','BD'),
('hobby','tagger'),
('hobby','compétition sportive'),
('hobby','sport'),
('hobby','bénévole'),
('hobby','association'),
('hobby','maquillage'),
('hobby','télé'),
('hobby','fête'),
('hobby','échecs'),
('hobby','jeux de role'),
('hobby','jeux de stratégie'),
('hobby','journal'),
('hobby','radio'),
('hobby','maquettes'),
('hobby','mobylette'),
('hobby','moto'),
('hobby','vélo'),
('hobby','poterie'),
('hobby','bijoux'),
('hobby','objets décoratifs'),
('hobby','Chanter'),
('hobby','chorale'),
('hobby','pompier'),
('hobby','montagne'),
('hobby','escalade'),
('hobby','jeux'),
('hobby','sports d''adresse'),
('hobby','centre de vacances'),
('hobby','sport à sensation'),
('hobby','rafting'),
('hobby','parachutisme'),
('hobby','danser'),
('hobby','loto'),
('hobby','exposition'),
('hobby','vidéo'),
('style de musique','chanson française'),
('style de musique','Chants populaires'),
('style de musique','Drum''n''Bass'),
('style de musique','Dub'),
('style de musique','Electro'),
('style de musique','Hip-Hop Français'),
('style de musique','House'),
('style de musique','Indus'),
('style de musique','Latino'),
('style de musique','Musique Orientale'),
('style de musique','Musiques de films'),
('style de musique','Opera'),
('style de musique','Pop'),
('style de musique','Ragga, Dancehall'),
('style de musique','Rap, Hip-Hop'),
('style de musique','Reggae'),
('style de musique','Reggaeton'),
('style de musique','Salsa'),
('style de musique','Variétés'),
('ambiance','Chapeau melon et botte en cuir'),
('ambiance','Décennies'),
('ambiance','Une Lettre'),
('ambiance','Thème de groupe'),
('ambiance','Soirée du futur'),
('ambiance','Soirée Artiste – Karaoké'),
('ambiance','Robots'),
('ambiance','J’aurai voulu être'),
('ambiance','Soirée écoliers'),
('ambiance','Soirée Politique'),
('ambiance','Bollywood'),
('ambiance','Carnaval de Venise'),
('ambiance','Duo célèbres'),
('ambiance','Chic détail choc'),
('ambiance','Soirée publicité'),
('ambiance','Jeux Vidéo'),
('ambiance','Casino'),
('ambiance','Voyage dans le temps'),
('ambiance','Woodstock'),
('ambiance','Cinéma'),
('ambiance','Nouvel an chinois'),
('ambiance','A l’envers'),
('ambiance','Région natale'),
('ambiance','Pyjama'),
('ambiance','Destination'),
('ambiance','Tendance'),
('ambiance','Traditionel'),
('ambiance','Jeux'),
('ambiance','Star'),
('ambiance','Nostalgie'),
('ambiance','Soirée à thème Magie'),
('ambiance','Aventure'),
('ambiance','Il était une fois'),
('ambiance','Soirée à thème Dégustation'),
('ambiance','Soirée à thème Enfants');


INSERT INTO keyuser (idKeyWord, idUser) VALUES
(1,2),
(2,3),
(3,4),
(4,5),
(5,6),
(6,7),
(7,8),
(8,9),
(9,10),
(10,11),
(11,12),
(12,1),
(13,2),
(14,3),
(15,4),
(16,5),
(17,6),
(18,7),
(19,8),
(20,9),
(21,10),
(22,11),
(23,12),
(24,1),
(25,2),
(26,3),
(27,4),
(28,5),
(29,6),
(30,7),
(31,8),
(32,9),
(33,10),
(34,11),
(35,12),
(36,1),
(37,2),
(38,3),
(39,4),
(40,5),
(41,6),
(42,7),
(43,8),
(44,9),
(45,10),
(46,11),
(47,12),
(48,1),
(49,2),
(50,3),
(51,4),
(52,5),
(53,6),
(54,7),
(55,8),
(56,9),
(57,10),
(58,11),
(59,12),
(60,1),
(61,2),
(62,3),
(63,4),
(64,5),
(65,6),
(66,7),
(67,8),
(68,9),
(69,10),
(70,11),
(71,12),
(72,1),
(73,2),
(74,3),
(75,4),
(76,5),
(77,6),
(78,7),
(79,8),
(80,9),
(81,10),
(82,11),
(83,12),
(84,1),
(85,2),
(86,3),
(87,4),
(88,5),
(89,6),
(90,7),
(91,8),
(92,9),
(93,10),
(94,11),
(95,12),
(96,1),
(97,2),
(98,3),
(99,4),
(100,5);

INSERT INTO keybar (idKeyWord,nbOccurence,idBar) VALUES
(1,0,1),
(2,0,2),
(3,0,3),
(4,0,4),
(5,0,5),
(6,0,6),
(7,0,7),
(8,0,8),
(9,0,9),
(10,0,10),
(11,0,11),
(12,0,1),
(13,0,2),
(14,0,3),
(15,0,4),
(16,0,5),
(17,0,6),
(18,0,7),
(19,0,8),
(20,0,9),
(21,0,10),
(22,0,11),
(23,0,1),
(24,0,2),
(25,0,3),
(26,0,4),
(27,0,5),
(28,0,6),
(29,0,7),
(30,0,8),
(31,0,9),
(32,0,10),
(33,0,11),
(34,0,1),
(35,0,2),
(36,0,3),
(37,0,4),
(38,0,5),
(39,0,6),
(40,0,7),
(41,0,8),
(42,0,9),
(43,0,10),
(44,0,11),
(45,0,1),
(46,0,2),
(47,0,3),
(48,0,4),
(49,0,5),
(50,0,6),
(51,0,7),
(52,0,8),
(53,0,9),
(54,0,10),
(55,0,11),
(56,0,1),
(57,0,2),
(58,0,3),
(59,0,4),
(60,0,5),
(61,0,6),
(62,0,7),
(63,0,8),
(64,0,9),
(65,0,10),
(66,0,11),
(67,0,1),
(68,0,2),
(69,0,3),
(70,0,4),
(71,0,5),
(72,0,6),
(73,0,7),
(74,0,8),
(75,0,9),
(76,0,10),
(77,0,11),
(78,0,1),
(79,0,2),
(80,0,3),
(81,0,4),
(82,0,5),
(83,0,6),
(84,0,7),
(85,0,8),
(86,0,9),
(87,0,10),
(88,0,11),
(89,0,1),
(90,0,2),
(91,0,3),
(92,0,4),
(93,0,5),
(94,0,6),
(95,0,7),
(96,0,8),
(97,0,9),
(98,0,10),
(99,0,11),
(100,0,1);

INSERT INTO blacklist (idBar, idUser) VALUES
(1,1),
(2,2),
(3,3),
(4,4),
(5,5),
(6,6),
(7,7),
(8,8),
(9,9),
(10,10),
(11,11),
(1,12);

-- select * from keyuser;
-- select * from keyword;
-- select * from bar;
-- SELECT  * from keybar;
-- SELECT * from blacklist;
-- SELECT * from "user";